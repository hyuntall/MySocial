{"ast":null,"code":"import _objectSpread from\"C:/Users/gc159/Desktop/nwitter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/gc159/Desktop/nwitter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{dbService}from\"myFirebase\";import{collection,query,onSnapshot,orderBy}from\"firebase/firestore\";import{React,useState,useEffect}from\"react\";import Nweet from\"components/Nweet\";import NweetFactory from\"components/NweetFactory\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(_ref){var userObj=_ref.userObj;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),nweets=_useState2[0],setNweets=_useState2[1];useEffect(function(){// nweets 에서 작성시간 순으로 정렬하여 호출하는 쿼리\nvar q=query(collection(dbService,\"nweets\"),orderBy(\"createdAt\",\"desc\"));onSnapshot(q,function(snapshot){var nweetArr=snapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setNweets(nweetArr);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(NweetFactory,{userObj:userObj}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:30},children:nweets.map(function(nweet){return/*#__PURE__*/_jsx(Nweet,{nweetObj:nweet,isOwner:nweet.creatorId===userObj.uid},nweet.id);})})]});};export default Home;","map":{"version":3,"sources":["C:/Users/gc159/Desktop/nwitter/src/routes/Home.js"],"names":["dbService","collection","query","onSnapshot","orderBy","React","useState","useEffect","Nweet","NweetFactory","Home","userObj","nweets","setNweets","q","snapshot","nweetArr","docs","map","doc","id","data","marginTop","nweet","creatorId","uid"],"mappings":"uOAAA,OAASA,SAAT,KAA0B,YAA1B,CACA,OAASC,UAAT,CAAqBC,KAArB,CAA4BC,UAA5B,CAAwCC,OAAxC,KAAuD,oBAAvD,CACA,OAASC,KAAT,CAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,kBAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC1B,cAA4BL,QAAQ,CAAC,EAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eACAN,SAAS,CAAC,UAAM,CACZ;AACA,GAAMO,CAAAA,CAAC,CAAGZ,KAAK,CACXD,UAAU,CAACD,SAAD,CAAY,QAAZ,CADC,CAEXI,OAAO,CAAC,WAAD,CAAc,MAAd,CAFI,CAAf,CAIAD,UAAU,CAACW,CAAD,CAAI,SAACC,QAAD,CAAc,CACxB,GAAMC,CAAAA,QAAQ,CAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,wBAC/BC,EAAE,CAAED,GAAG,CAACC,EADuB,EAE5BD,GAAG,CAACE,IAAJ,EAF4B,GAAlB,CAAjB,CAIJR,SAAS,CAACG,QAAD,CAAT,CACC,CANS,CAAV,CAOH,CAbQ,CAaN,EAbM,CAAT,CAcI,mBACA,aAAK,SAAS,CAAC,WAAf,wBACI,KAAC,YAAD,EAAc,OAAO,CAAEL,OAAvB,EADJ,cAEI,YAAK,KAAK,CAAE,CAAEW,SAAS,CAAE,EAAb,CAAZ,UACKV,MAAM,CAACM,GAAP,CAAW,SAAAK,KAAK,qBAChB,KAAC,KAAD,EAAsB,QAAQ,CAAEA,KAAhC,CAAuC,OAAO,CAAEA,KAAK,CAACC,SAAN,GAAoBb,OAAO,CAACc,GAA5E,EAAYF,KAAK,CAACH,EAAlB,CADgB,EAAhB,CADL,EAFJ,GADA,CAUP,CA1BD,CA2BA,cAAeV,CAAAA,IAAf","sourcesContent":["import { dbService } from \"myFirebase\";\r\nimport { collection, query, onSnapshot, orderBy } from \"firebase/firestore\";\r\nimport { React, useState, useEffect } from \"react\";\r\nimport Nweet from \"components/Nweet\";\r\nimport NweetFactory from \"components/NweetFactory\";\r\n\r\nconst Home = ({ userObj }) => {\r\n    const [nweets, setNweets] = useState([]);\r\n    useEffect(() => {\r\n        // nweets 에서 작성시간 순으로 정렬하여 호출하는 쿼리\r\n        const q = query(\r\n            collection(dbService, \"nweets\"),\r\n            orderBy(\"createdAt\", \"desc\")\r\n        );\r\n        onSnapshot(q, (snapshot) => {\r\n            const nweetArr = snapshot.docs.map((doc) => ({\r\n                id: doc.id,\r\n                ...doc.data(),\r\n            }));\r\n        setNweets(nweetArr);\r\n        });\r\n    }, [])\r\n        return (\r\n        <div className=\"container\">\r\n            <NweetFactory userObj={userObj}/>\r\n            <div style={{ marginTop: 30 }}>\r\n                {nweets.map(nweet => (\r\n                 <Nweet key={nweet.id} nweetObj={nweet} isOwner={nweet.creatorId === userObj.uid}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}