{"ast":null,"code":"import _objectSpread from\"C:/Users/gc159/Desktop/nwitter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/gc159/Desktop/nwitter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{dbService}from\"myFirebase\";import{collection,query,onSnapshot,orderBy}from\"firebase/firestore\";import{React,useState,useEffect}from\"react\";import Post from\"components/Post\";import PostFactory from\"components/PostFactory\";import'home.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(_ref){var userObj=_ref.userObj;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];useEffect(function(){// posts 에서 작성시간 순으로 정렬하여 호출하는 쿼리\nvar q=query(collection(dbService,\"posts\"),orderBy(\"createdAt\",\"desc\"));onSnapshot(q,function(snapshot){var postArr=snapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setPosts(postArr);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(PostFactory,{userObj:userObj}),/*#__PURE__*/_jsx(\"div\",{children:posts.map(function(post){return/*#__PURE__*/_jsx(Post,{postObj:post,isOwner:post.creatorId===userObj.uid},post.id);})})]});};export default Home;","map":{"version":3,"sources":["C:/Users/gc159/Desktop/nwitter/src/routes/Home.js"],"names":["dbService","collection","query","onSnapshot","orderBy","React","useState","useEffect","Post","PostFactory","Home","userObj","posts","setPosts","q","snapshot","postArr","docs","map","doc","id","data","post","creatorId","uid"],"mappings":"uOAAA,OAASA,SAAT,KAA0B,YAA1B,CACA,OAASC,UAAT,CAAqBC,KAArB,CAA4BC,UAA5B,CAAwCC,OAAxC,KAAuD,oBAAvD,CACA,OAASC,KAAT,CAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,iBAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,MAAO,UAAP,C,wFACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC1B,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACAN,SAAS,CAAC,UAAM,CACZ;AACA,GAAMO,CAAAA,CAAC,CAAGZ,KAAK,CACXD,UAAU,CAACD,SAAD,CAAY,OAAZ,CADC,CAEXI,OAAO,CAAC,WAAD,CAAc,MAAd,CAFI,CAAf,CAIAD,UAAU,CAACW,CAAD,CAAI,SAACC,QAAD,CAAc,CACxB,GAAMC,CAAAA,OAAO,CAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,wBAC9BC,EAAE,CAAED,GAAG,CAACC,EADsB,EAE3BD,GAAG,CAACE,IAAJ,EAF2B,GAAlB,CAAhB,CAIJR,QAAQ,CAACG,OAAD,CAAR,CACC,CANS,CAAV,CAOH,CAbQ,CAaN,EAbM,CAAT,CAcI,mBACA,aAAK,SAAS,CAAC,WAAf,wBACI,KAAC,WAAD,EAAa,OAAO,CAAEL,OAAtB,EADJ,cAEI,qBACKC,KAAK,CAACM,GAAN,CAAU,SAAAI,IAAI,qBACd,KAAC,IAAD,EAAoB,OAAO,CAAEA,IAA7B,CAAmC,OAAO,CAAEA,IAAI,CAACC,SAAL,GAAmBZ,OAAO,CAACa,GAAvE,EAAWF,IAAI,CAACF,EAAhB,CADc,EAAd,CADL,EAFJ,GADA,CAUP,CA1BD,CA2BA,cAAeV,CAAAA,IAAf","sourcesContent":["import { dbService } from \"myFirebase\";\r\nimport { collection, query, onSnapshot, orderBy } from \"firebase/firestore\";\r\nimport { React, useState, useEffect } from \"react\";\r\nimport Post from \"components/Post\";\r\nimport PostFactory from \"components/PostFactory\";\r\nimport 'home.css'\r\nconst Home = ({ userObj }) => {\r\n    const [posts, setPosts] = useState([]);\r\n    useEffect(() => {\r\n        // posts 에서 작성시간 순으로 정렬하여 호출하는 쿼리\r\n        const q = query(\r\n            collection(dbService, \"posts\"),\r\n            orderBy(\"createdAt\", \"desc\")\r\n        );\r\n        onSnapshot(q, (snapshot) => {\r\n            const postArr = snapshot.docs.map((doc) => ({\r\n                id: doc.id,\r\n                ...doc.data(),\r\n            }));\r\n        setPosts(postArr);\r\n        });\r\n    }, [])\r\n        return (\r\n        <div className=\"container\">\r\n            <PostFactory userObj={userObj}/>\r\n            <div>\r\n                {posts.map(post => (\r\n                 <Post key={post.id} postObj={post} isOwner={post.creatorId === userObj.uid}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}